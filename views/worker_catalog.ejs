<!DOCTYPE html>
<html lang="en">
<head>
</head>
<body>
<main>
    <div class="container-fluid bg-grey" id="worker_catalog">
        <div class="row">
            <div class="col-sm-4" id="catalog-info">
                <h2>Our Catalog</h2>
                <h4>bla bla bla....</h4>
                <p>bla bla bla....</p>

            <a href="#addposterModal" class="icon" data-toggle="modal">
                <i class="fa fa-plus" title="add new poster"></i>
            </a>
            <a href="#worker_catalog" class="icon">
                <i class="fa fa-refresh" title="refresh" onclick="loadSupplierCatalog()"></i>
            </a>
            </div>
            <div class="col-sm-8">
                <div id="myCarousel" class="carousel slide text-center" data-ride="carousel">
                    <!-- Indicators -->
                    <ol class="carousel-indicators" id="indicators">
                        <% for (var i = 0; i < postersArray.length; i++) { %>
                            <% if (i == 0) { %>
                                <li data-target="#myCarousel" data-slide-to="<%= i %>" class="active"></li>
                            <% } else { %>
                                <li data-target="#myCarousel" data-slide-to="<%= i %>"></li>
                            <% } %>
                        <% } %>
                    </ol>

                    <div class="carousel-inner" id="carousel">
                        <% for (var i = 0; i < postersArray.length; i++) { %>
                            <% if (i == 0) { %>
                                <div class="item active">
                                    <img src="data:<%= postersArray[i].type_of_image %>;base64,<%= postersArray[i].img %>"/>
                                    <div className="carousel-caption">
                                        <h3><%= postersArray[i].name + " (" + postersArray[i].creator + ") " %></h3>
                                        <p><%= postersArray[i].price + "$" %></p>
                                        <a href="#updatePosterModal" class="card-link" data-toggle="modal" data-name-id="<%= postersArray[i].name %>"
                                           data-creator-id="<%= postersArray[i].creator %>"
                                           data-price-id="<%= postersArray[i].price %>"
                                           data-img-id="<%= postersArray[i].img%>"
                                           data-type_of_image-id="<%= postersArray[i].type_of_image %>">
                                            <i class="fa fa-edit" title="update poster details"></i>
                                        </a>
                                        <a href="#deletePosterModal" class="card-link" data-toggle="modal" data-name-id="<%= postersArray[i].name %>">
                                            <i class="fa fa-trash" title="delete poster"></i>
                                        </a>
                                    </div>
                                </div>
                            <% } else { %>
                                <div class="item">
                                    <img src="data:<%= postersArray[i].type_of_image %>;base64,<%= postersArray[i].img %>"/>
                                    <div className="carousel-caption">
                                        <h3><%= postersArray[i].name + " (" + postersArray[i].creator + ") " %></h3>
                                        <p><%= postersArray[i].price + "$" %></p>
                                        <a href="#updatePosterModal" class="card-link" data-toggle="modal" data-name-id="<%= postersArray[i].name %>"
                                           data-creator-id="<%= postersArray[i].creator %>"
                                           data-price-id="<%= postersArray[i].price %>"
                                           data-img-id="<%= postersArray[i].img%>"
                                           data-type_of_image-id="<%= postersArray[i].type_of_image %>">
                                        <i class="fa fa-edit" title="update poster details"></i>
                                        </a>
                                        <a href="#deletePosterModal" class="card-link" data-toggle="modal" data-name-id="<%= postersArray[i].name %>">
                                            <i class="fa fa-trash" title="delete poster"></i>
                                        </a>
                                    </div>
                                </div>
                            <% } %>
                        <% } %>
                    </div>
                    <!-- Left and right controls -->
                    <a class="left carousel-control" href="#myCarousel" data-slide="prev">
                        <span class="glyphicon glyphicon-chevron-left"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="right carousel-control" href="#myCarousel" data-slide="next">
                        <span class="glyphicon glyphicon-chevron-right"></span>
                        <span class="sr-only">Next</span>
                    </a>
                </div>
            </div>
        </div>
    </div>
    <!-- Modal HTML -->
    <div id="addPosterModal" class="modal fade">
        <div class="modal-dialog modal-login">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Add Poster</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                </div>
                <div class="modal-body">
                    <form id="addPosterForm"  onsubmit="addPoster()" enctype="multipart/form-data">
                        <div class="form-group">
                            <input type="text" class="form-control" id="name" name="name" placeholder="Name" required="required" autofocus>
                        </div>
                        <div class="form-group">
                            <input type="number" min="0" class="form-control" id="price" name="price" placeholder="Price" required="required">
                        </div>
                        <div class="form-group">
                            <input type="text" class="form-control" id="creator" name="creator"  placeholder="Creator" required="required">
                        </div>
                        <div class="form-group">
                            <input type="radio" id="fileRadio" name="fileOrLink" value="file" onclick="fileOrUrl(this.value)" checked> Upload Image From Your Computer<br>
                            <input type="radio" id="linkRadio" name="fileOrLink" value="url" onclick="fileOrUrl(this.value)"> Upload Image using URL
                        </div>
                        <div class="form-group">
                            <input type="file" class="form-control" id="posterImg" name="posterImg"  placeholder="Image" required="required">
                        </div>
                        <div class="form-group">
                            <input type="url" class="form-control" id="posterImgUrl" name="posterImgUrl"  placeholder="Image URL" required="required" disabled>
                        </div>
                        <div class="form-group">
                            <button id="addPosterButton" type="submit" class="btn btn-primary btn-lg btn-block login-btn" >Add</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <div id="updatePosterModal" class="modal fade">
        <div class="modal-dialog modal-login">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Update Poster</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                </div>
                <div class="modal-body">
                    <form id="updatePosterForm" enctype="multipart/form-data">
                        <div class="form-group">
                            <input type="text" class="form-control" id="name_update" name="name_update" placeholder="Name" disabled>
                        </div>
                        <div class="form-group">
                            <input type="number" min="0" class="form-control" id="price_update" name="price_update" placeholder="Price" required="required">
                        </div>
                        <div class="form-group">
                            <button id="updatePosterButton" type="button" class="btn btn-primary btn-lg btn-block login-btn" onclick="updatePoster()">Update</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <div id="deletePosterModal" class="modal fade">
        <div class="modal-dialog modal-login">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Delete Poster</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="form-group">
                            Are you sure you want to delete this poster?<br><br>
                            <button id="deletePosterButton" type="button" class="btn btn-primary btn-lg btn-block login-btn" onclick="deletePoster()">Delete</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</main>
</body>
</html>